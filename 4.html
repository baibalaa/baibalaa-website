<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NAFI SHAUKATH "VENOM"</title>
    <link rel="stylesheet" href="style.css">
    <style>
        
        h1 {
          text-transform: uppercase;
          letter-spacing: 2px;
          color: gold;
          text-align: center;
          text-shadow: 0 0 10px #ffcc00;
        }
    
      </style>
</head>
<body>
    <nav>
        <ul>
            <li><a href="index.html">HOME</a></li>
            <li><a href="hof.html">GLORY WALL</a></li>
            <li><a href="rules.html">RULES</a></li>
            <li><a href="articles.html">BAIBALAA INSIGHTS</a></li>
            <li><a href="tournaments.html">TOURNAMENTS</a></li>
            <li><a href="champions.html">CHAMPIONS</a></li>
            <li><a href="mrbaibalaa.html">MR. BAIBALAA</a></li>
            <li><a href="players.html">PLAYERS</a></li>
            <li class="dropdown">
                <a href="#">GAMES</a>
                <ul class="dropdown-content">
                    <li><a href="memory_game.html">Flip Card Game</a></li>
                    <li><a href="baibalaaiq.html">Baibalaa IQ</a></li>
                </ul>
            </li>
            <li><a href="highlights.html">HIGHLIGHTS</a></li>
        </ul>
    </nav>

    <header>
        <h1>NAIF SHAUKATH "VENOM"</h1>
    </header>

    <section id="player-articles">
        <article id="article-4">
            <img src="https://i.imgur.com/EgaMQ9y.jpg" alt="Baibalaa Tournament 2025">
            <p><strong>Published on:</strong> 19 April 2025, 12:06</p>
            <h3>Naif Shaukath "Venom" — A Baibalaa Legend</h3>
            <p class="justified">Naif Shaukath, famously known in the Baibalaa world as “Venom,” is considered one of the most electrifying attackers the sport has ever witnessed. His style was unpredictable, explosive, and truly his own. Whether it was leaping over defenders or pinning them into the sand with sheer force, Venom always kept the crowd — and his opponents — guessing.</p>
            <p class="justified">Originating from TC Sports Club, Naif’s reputation grew so strong that several top teams sought his services during his peak years, offering significant incentives to bring him into their squads.</p>
            <p class="justified">One of the most talked-about moments in his career was during the 1426 (2005) edition when he represented BG Sports Club. Many believe that tournament could have been the one where he was crowned Mr. Baibalaa. In the final match against Maziya Sports Club, Naif launched a spectacular raid, eliminating 2 to 3 defenders. However, chaos ensued as players and supporters from both teams stormed the ring, leading to the cancellation of the final. That moment remains one of the most controversial yet unforgettable events in Baibalaa history.</p>
            <p class="justified">Naif's legacy doesn’t end there. In the 1428 (2007) edition, he played a pivotal role in the Buru Sports Club attack as they went on to become champions. Later, when TC Sports Club clinched the title in 1432 (2011), Naif was again at the center of their offensive strength, proving his impact across multiple championship campaigns.</p>
            <p class="justified">Feared by defenders and admired by fans, Naif “Venom” Shaukath will always be remembered as a one-of-a-kind attacker — a legend whose name is etched deep in the history of Baibalaa.</p>
            
            <!-- Comment Section for Player Page -->
            <section id="comment-section-4" class="comment-section">
                <h2>Leave a Comment</h2>
                <div style="display: flex; flex-direction: column; align-items: center;">
                    <input type="text" id="visitor-name-4" maxlength="25" placeholder="Your Name"
                        style="width: 100%; padding: 8px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 5px; font-size: 14px; background: #333; color: white; border-left: 4px solid gold;" />

                    <textarea id="comment-box-4" rows="4" cols="50" maxlength="150" placeholder="Write your comment here..."
                        style="width: 100%; padding: 8px; margin-bottom: 20px; border: 1px solid #ccc; border-radius: 5px; font-size: 14px; background: #333; color: white; border-left: 4px solid gold;"></textarea>

                    <button id="submit-comment-btn-4" style="padding: 10px 20px; background-color: #007BFF; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 14px; margin-top: 15px;">
                        Submit Comment
                    </button>

                    <button id="toggle-comments-btn-4" style="margin-top: 10px; padding: 8px 15px; background-color: #28a745; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 14px;">
                        Show Comments
                    </button>
                </div>
            </section>
            
            <!-- Comments Display for Player Page -->
            <section id="comments-display-4" class="comments-display">
                <h2>Comments</h2>
                <div id="comments-list-4" class="comments-list">
                    <!-- Comments will be dynamically added here -->
                </div>
            </section>
        </article>
    </section>
    
    <footer>
        <div class="footer-container">
            <div class="footer-section">
                <h3>About Baibalaa MV</h3>
                <p>Baibalaa MV is dedicated to preserving and celebrating the history of Baibalaa, the pride of the Maldives.</p>
            </div>

            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="hof.html">Glory Wall</a></li>
                    <li><a href="rules.html">Rules</a></li>
                    <li><a href="articles.html">Baibalaa Insights</a></li>
                    <li><a href="tournaments.html">Tournaments</a></li>
                    <li><a href="champions.html">Champions</a></li>
                    <li><a href="mrbaibalaa.html">Mr. Baibalaa</a></li>
                    <li><a href="players.html">Players</a></li>
                    <li><a href="memory_game.html">Flip Card Game</a></li>
                    <li><a href="baibalaaiq.html">Baibalaa iQ</a></li>
                    <li><a href="highlights.html">Highlights</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Contact Us</h3>
                <p>Email: <a href="mailto:baibalaamv@gmail.com">baibalaamv@gmail.com</a></p>
                <div class="youtube-link">
                    <a href="https://www.youtube.com/@baibalaamv" target="_blank">
                        <img src="youtube.png" alt="YouTube Logo">
                    </a>
                </div>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; <span id="year"></span> Baibalaa MV. All rights reserved.</p>
        </div>
    </footer>

    <script>
        document.getElementById("year").textContent = new Date().getFullYear();
    </script>

    <!-- Firebase SDK (CDN) -->
<script src="config.js"></script>
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-app.js";
    import { getDatabase, ref, push, set, onValue } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-database.js";

    const firebaseConfig = {
        apiKey: window.env.FIREBASE_API_KEY,
        authDomain: "baibalaa-comments.firebaseapp.com",
        databaseURL: "https://baibalaa-comments-default-rtdb.firebaseio.com", 
        projectId: "baibalaa-comments",
        storageBucket: "baibalaa-comments.appspot.com",
        messagingSenderId: "1033627188071",
        appId: "1:1033627188071:web:8e2f7ed4d5ae95b066cdc2"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // Get the player ID dynamically from the URL (for example "player1.html")
    const playerId = window.location.pathname.split("/").pop().replace(".html", "");
    console.log("Player ID:", playerId);  // Debugging: Check if playerId is correctly extracted

    // Function to submit a comment
    function submitComment(playerId) {
        const visitorName = document.getElementById(`visitor-name-${playerId}`).value.trim();
        const commentText = document.getElementById(`comment-box-${playerId}`).value.trim();

        if (visitorName !== "" && commentText !== "") {
            try {
                const commentsRef = ref(db, `playercomments/${playerId}`);  // Updated path for storing comments
                const newCommentRef = push(commentsRef);  // Push a new comment under the player's unique node
                set(newCommentRef, {
                    name: visitorName,
                    text: commentText,
                    timestamp: new Date().toISOString()
                }).then(() => {
                    alert("Comment added successfully!");
                    document.getElementById(`visitor-name-${playerId}`).value = "";
                    document.getElementById(`comment-box-${playerId}`).value = "";
                }).catch((error) => {
                    console.error("Error adding comment: ", error);
                    alert("Error adding comment. Please try again.");
                });
            } catch (e) {
                console.error("Error adding comment: ", e);
                alert("Error adding comment. Please try again.");
            }
        } else {
            alert("Please enter both your name and a comment.");
        }
    }

    // Ensure comments are hidden by default when the page loads
    document.addEventListener("DOMContentLoaded", function () {
            document.getElementById("comments-display-4").style.display = "none";
        });

    // Function to toggle the visibility of comments
    function toggleComments(playerId) {
        const commentsSection = document.getElementById(`comments-display-${playerId}`);
        const toggleButton = document.getElementById(`toggle-comments-btn-${playerId}`);

        if (commentsSection.style.display === "none" || commentsSection.style.display === "") {
            commentsSection.style.display = "block";
            toggleButton.textContent = "Hide Comments";
        } else {
            commentsSection.style.display = "none";
            toggleButton.textContent = "Show Comments";
        }
    }

    // Function to display comments for a specific player
    function displayComments(playerId) {
        const commentsRef = ref(db, `playercomments/${playerId}`);  // Updated path to fetch comments for each player
        onValue(commentsRef, (snapshot) => {
            const commentsList = document.getElementById(`comments-list-${playerId}`);
            commentsList.innerHTML = ""; // Clear existing comments

            if (snapshot.exists()) {
                snapshot.forEach((childSnapshot) => {
                    const comment = childSnapshot.val();
                    const commentElement = document.createElement("div");
                    commentElement.classList.add("comment");
                    commentElement.innerHTML = `
                        <p><strong>${comment.name}</strong>:</p>
                        <p>${comment.text}</p>
                        <p><strong>Posted on:</strong> ${new Date(comment.timestamp).toLocaleString()}</p>
                    `;
                    commentsList.appendChild(commentElement);
                });
            } else {
                commentsList.innerHTML = "<p>No comments yet.</p>";
            }
        }, (error) => {
            console.error("Error fetching comments: ", error);
        });
    }

    // Attach event listeners
    window.onload = () => {
        // Display comments for the current player
        displayComments(playerId);

        // Add event listener for submit button
        document.getElementById(`submit-comment-btn-${playerId}`).addEventListener("click", () => submitComment(playerId));

        // Add event listener for toggle button
        document.getElementById(`toggle-comments-btn-${playerId}`).addEventListener("click", () => toggleComments(playerId));
    };
</script>

</body>
</html>
